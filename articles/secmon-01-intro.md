---
title: "Google Cloudで作るセキュリティ監視基盤(1): はじめに"
emoji: "🔎"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["security", "monitoring"]
published: false
---

この記事はアドベントカレンダー[Google Cloudで作るセキュリティ監視基盤](https://adventar.org/calendars/xxxx)の1日目です。

# はじめに

インターネットの普及がはじまった2000年頃から今日に至るまで、情報セキュリティに対する課題は大きくは変化していません。情報システムやネットワーク、アプリケーションの環境や構成要素、攻撃の手段は変わっているものの、基本的な脅威や対策の方針は変わっていません。引き続き発生する脅威に対して、情報セキュリティ担当者は対策を講じる必要があります。

情報セキュリティの対策は、様々な要素を組み合わせて構築されます。その中でも、セキュリティ監視は重要な要素の一つです。セキュリティ監視は、情報システムやネットワーク、アプリケーションの状態を監視し、異常を検知することで、セキュリティインシデントを早期に発見し、対応するための情報を提供します。セキュリティ監視は直接的な防御ではないものの、ユーザへの影響を最小限に抑えながら防止策を補助し、全体のセキュリティを向上させることができます。

セキュリティ監視も昔からある対策手段であり本質的な部分は今も変わっていませんが、環境や技術の変化によって実現方法も進化してきました。昔は大量のデータを収集し分析するための基盤を作るためには、高額な専用ソフトウェアを購入し強力なサーバを購入し運用できる環境や人員を用意する必要があり、とても敷居が高いものでした。しかし現在はクラウドサービスの普及に伴い、より安価にスケーラブルなセキュリティ監視を実現することができるようになりました。

# クラウド時代のセキュリティ監視基盤

クラウド技術の普及にともない、セキュリティ監視自体のクラウドサービスが出現したり、クラウドサービスプラットフォーム（Amazon Web ServiceやGoogle Cloudなど）上に自分でセキュリティ監視基盤を構築するなど、多くの選択肢が生まれました。特にセキュリティ監視のクラウドサービスはAll-in-oneで必要な機能が用意されており、小さく手軽に始めるには便利な手段となっています。

一方で、多くのセキュリティ監視のソフトウェアやサービスは投入・処理するデータの量に応じた従量課金型になっている場合がほとんどです。現代では扱う情報システムの種類が増えたり、より詳細なログを取得できるようになったことで、セキュリティ監視に利用するデータ量も増加する傾向にあります。とっかかりとして、小さく監視はじめた頃はあまり問題になりません。しかし、監視の範囲を広げたり、より深く監視をしようとすると、コストは無視できない問題になることが多いです。

# セキュリティ監視基盤を内製する

コストの問題を解決する一つのアプローチが、監視基盤を内製することです。昨今ではクラウドサービスプラットフォームが進化し、様々なマネージドサービスが安価に提供されるようになりました。これらを組み合わせてセキュリティ監視基盤を構築することで、自社のニーズに合わせた監視基盤を構築することができます。もちろんクラウドプラットフォームのマネージドサービスも多くは従量課金型ですが、既製のサービスやソフトウェアを利用するのに比べてコストは小さく、1/10以上のコスト削減ができる場合もあります。

ただし、セキュリティ監視基盤を内製することにはいくつかの課題があります。特に設計・構築・運用できる人材が、世の中には少ないことが挙げられます。これはセキュリティ監視基盤をクラウドプラットフォーム上に構築する場合、セキュリティ監視についての知識や経験、クラウドプラットフォームの機能やAPIの理解、ソフトウェアエンジニアリングの能力という、複数のドメインにまたがったスキルが必要になるためです。また、こうしたセキュリティ監視基盤の内製事例も少ないため、ベストプラクティスや成功事例を参考にすることも難しいです。

このような課題を解決するために、このアドベントカレンダーではGoogle Cloudを使ってセキュリティ監視のためのログ収集、保全、分析、アラート検知、対応のための基盤を内製できるようにするための方法論や実例を提供します。検討から構築、運用までの流れを実践的に紹介し、セキュリティ監視基盤を内製するためのノウハウを提供します。もちろん内製が正しい方法とは限らず、既製サービスやソフトウェアを使ったほうが良いケースも多々あります。しかし内製方法について理解することで、内製という選択肢があることを知り、既製サービスやソフトウェアとの比較もより適切にできるようになることが期待できると考えます。

# 対象とする読者

このアドベントカレンダーは、情報セキュリティ担当者やインフラやプラットフォーム担当者を対象としています。セキュリティ監視基盤を内製することに興味がある方、Google Cloudを使ってセキュリティ監視基盤を構築する方法を知りたい方におすすめです。また、Google Cloudの基本的な使い方やセキュリティ監視の基本的な知識があるとより理解しやすい内容になっています。

# 想定する環境と技術スタック

このアドベントカレンダーで紹介する技術スタックは以下の通りです。

- クラウドプラットフォーム：Google Cloud
  - 大部分の機能は他のクラウドプラットフォームでも同様に実現可能ですが、今回はGoogle Cloudを使って構築します
- データストア：BigQuery
  - フルマネージドかつ安価に大量のデータを格納できるため採用しています
- 開発言語：Go
  - 大部分はGoogle Cloudのマネージドサービスを利用して構築しますが、データ処理などを開発する必要があります
  - Goはパフォーマンスが比較的高いこと、そしてGoogle Cloudとの親和性が高いことから採用しています
