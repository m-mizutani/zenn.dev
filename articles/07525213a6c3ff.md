---
title: "Regoチートシート"
emoji: "👌"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["OPA", "Rego"]
published: false
---



# 文字列操作

## 整形

```rego
output := sprintf(string, values)
```

## 文字列の結合・分割
```rego
output := concat(delimiter, array_or_set)
output := split(string, delimiter)
```

## 部分一致
```rego
contains(string, search)
output := indexof(string, search)
```

## 前方一致・後方一致
```rego
endswith(string, search)
startswith(string, search)
```

## 小文字化・大文字化
```rego
output := lower(string)
output := upper(string)
```

## 抜き出し
```rego
output := substring(string, start, length)
```

## trim
```rego
output := trim(string, cutset)
output := trim_left(string, cutset)
output := trim_prefix(string, prefix)
output := trim_right(string, cutset)
output := trim_suffix(string, suffix)
output := trim_space(string)
```

## 正規表現の一致
```rego
output := regex.match(pattern, value)
```

# 配列・集合操作

## 結合（配列）
```rego
output := array.concat(array, array)
```

## 抜き出し（配列）
```rego
output := array.slice(array, startIndex, stopIndex)
```

## 要素数（配列・集合）
```rego
output := count(collection_or_string)
```

## 最大値・最小値・合計（配列・集合）

```rego
output := max(array_or_set)
output := min(array_or_set)
output := sum(array_or_set)
```

## ソート（配列・集合）

返り値は配列になる

```rego
output := sort(array_or_set)
```

## 積集合・和集合・差集合（集合）

```rego
s3 := s1 & s2
s3 := s1 | s2
s3 := s1 - s2
```

# オブジェクト（マップ型）操作

## 値の取得（デフォルト値を指定）

```rego
value := object.get(object, key, default)
```

## キーの取得

```rego
```

## 特定キーの除外

```rego
output := object.remove(object, keys)
```

## 特定キーを残す

```rego
filtered := object.filter(object, keys)
```

## オブジェクトの合成

```
output := object.union(objectA, objectB)
```

# マッチ

## 最低1つにマッチ
## 全部にマッチ

# 同構造体の2値が一致
# JOIN


