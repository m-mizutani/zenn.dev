---
title: "🛠️ 第3章 セキュリティ監視基盤の実装"
---

本章では、セキュリティ監視基盤における各パートの実装の要点、および実装例を紹介していきます。

# アーキテクチャ

まずは、セキュリティ監視基盤のアーキテクチャについて説明します。[アーキテクチャ設計](./02-04-arch-design)でも大まかな構成については触れましたが、ここでは具体的なGoogle Cloudのコンポーネントをどの用に構成するかの例について解説します。

- [アーキテクチャ実装](./03-01-arch-impl)

# ログ収集

ログの収集では外部システム（SaaS、内部システムを含む）からどのようにログを取り込むかに加えて、ログをCloud Storageに保存する際の注意点についても解説しています。

- [ログ収集の実装要点](./03-02-log-collect)
- [ログ保全の実装要点](./03-03-log-retention)
- [ログ収集と保全の実装例](./03-04-hatchery)

また、実際にSaaSなどのAPIからログを取得するための実装例として、HatcheryというOSSを紹介します。

https://github.com/secmon-lab/hatchery

# ログ変換・書込

Cloud Storageに格納されたログをデータベースへ書き込むまでの工程を担う実装について解説しています。書込先のデータベースをどのように構成するかに加えて、ログ変換の必要性とBigQueryへのログ書込における実装方法についても取り上げています。

- [ログデータベースの設計](./03-05-log-db)
- [ログ変換の実装要点](./03-06-log-transform)
- [ログ書込の実装要点](./03-07-log-load)
- [ログ変換と書込の実装例](./03-08-swarm)

これらの議論をもとに変換・書込をするためのOSSであるSwarmについても紹介します。

https://github.com/secmon-lab/swarm

# アラート検知

アラート検知については、要点と実装例についてのみ解説しています。今回の検知はバッチ型（オフライン型）であるため実装自体は難しくないですが、どのようにコスト最適化するか、テスト可能にするかなどについて紹介しています。

- [アラート検知の実装要点](./03-09-detection)
- [アラート検知の実装例](./03-10-overseer)

実装例として、BigQueryからアラート検知を行うOSSであるOverseerについても紹介します。

https://github.com/secmon-lab/overseer

# アラート対応

アラート対応についても要点と実装例について解説しています。アラート対応は繰り返し発生する処理を自動化するにあたって、どのような細かい機能が必要かを議論しています。

- [アラート対応自動化の実装要点](./03-11-alert-handling-automation)
- [アラート対応の自動化の実装例](./03-12-alertchain)

実装例として、アラート対応を自動化するSOAR（Security Orchestration, Automation and Response）ツールであるAlertChainについても紹介します。

https://github.com/secmon-lab/alertchain

# 生成AIの活用

最後にこれはアイディアベースになりますが、セキュリティ監視基盤で生成AIを活用する可能性についても議論しています。基本的な考えとして大量のデータを入力したり、文脈を判断させるというのは難しそうですが、作業効率化の観点では活用できる場面が多そうです。簡単な実装例についても紹介しています。

- [生成AIの活用](./03-13-gen-ai)
